<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cakes & Curls by Ninia - Unforgettable Cakes for Every Occasion</title>
    <!-- Correct paths when index.html is in ROOT folder -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="assets/img/logo.png" type="image/png">
</head>
<body>
    <!-- Navbar will be loaded here -->
    <nav id="navbar-container"></nav>
    
    <!-- Main content will be loaded here -->
    <main id="main-container"></main>

    <script>
        // Function to load HTML files
        async function loadHTML(elementId, filePath) {
            try {
                const response = await fetch(filePath);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const html = await response.text();
                document.getElementById(elementId).innerHTML = html;
                
                // Re-initialize gallery animations after content loads
                if (elementId === 'main-container') {
                    initializeGalleryAnimations();
                }
            } catch (error) {
                console.error(`Error loading ${filePath}:`, error);
            }
        }

        // Initialize gallery scroll animations
        function initializeGalleryAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            // Observe all gallery items
            const galleryItems = document.querySelectorAll('.gallery-item');
            galleryItems.forEach(item => observer.observe(item));
        }

        // Load all components when page loads
        window.addEventListener('DOMContentLoaded', () => {
            // Paths relative to ROOT where index.html is located
            loadHTML('navbar-container', 'resources/views/layout/navbar.html');
            loadHTML('main-container', 'resources/views/pages/home.html');
        });
    </script>
</body>
</html>